今天开始记录Principle of computer composition的学习记录
今天完成了《4主存储器》的学习知识摘要总结如下：

1. 概述
  1）主存的基本组成
    MAR——>译码——>存储体——>读写电路——>MDR
  2）主存和cpu的联系
    通过数据线和地址线联系在一起，MAR和MDR逻辑上是和主存联系在一起的，但在真实环境中是和CPU直接集成在一起的
  3）主存中存储单元地址的分配
    大端：高位字节的数据存储在低地址
    小端：高位字节的数据存储在高地址
  4）主存技术指标
    1. 存储容量：存放二进制代码的总位数
    2. 存取速度
    3. 存储器的带宽：位/秒

2. semiconductor-memory chip abstract
  1）basic structure
    1. 译码驱动+存储矩阵+读写电路
    2. 1K*4位：表示chip中有1024个存储单元，每个存储单元存储4bit的数据
  2）semiconductor-memory chip decoding drive mode
    1. 线选法：一个地址译码器将输入的二进制地址译码成为与存储地址一一对应的地址（存储单元线性排布）
      缺点：速度慢、集成度低
      有点：结构简单
    2. 重合法：由一个行地址译码器和列地址译码器组成（二位矩阵排布）
      优点：速度快、集成度高。相对于线选法，相同情况下需要的线数更少
      缺点：

3. RAM（random access memory）
  1）SRAM（static random access memory）
    1. 保存0、1的原理：1、0本质上是高低电平，使用双稳态电路存储
    2. 基本单元电路：静态六管存取电路，T1~T4负责保存数据，T5、T6是开关（准确的说是行选开关）
    3. 如何读出和写入：1）行地址选择线和列地址选择线同时接通
                       2）读写控制电路控制数据的读出或写入
                       3）因为是双稳态电路，写入电路需要同时写入相反的两个数据，才能改变电路的存储状态
    4. 典型的结构：（以1k*4位的chip为例）
                    1）A0~A9十根地址线（2的十次方，对应1024个存储地址）
                    2）WE：write enable信号
                    3）CS：chip select信号
                    4）Vcc：电源信号
                    5）GND：接地
                    6）I/O：四个读/写总线（对应4位）
    5. 注：列地址选择线同时接通四列地址，可以读/写四位数据（重合法）
  2）DRAM（dynamic random access memory）
    1. 保存0、1的原理：电容保存
    2. 如何实现读/写        
       通过对电容充放电来实现数据的写入（写入与输出相同）
       通过电容控制mos管的开闭来实现数据的读出（读出与存储相反）
    3. DRAM为什么要刷新及刷新方式
      原因：电容保存数据，电容易失电，致数据遗失
      刷新方式（每次刷新一行）：
        1）集中刷新：在一个刷新时间间隔内集中刷新数据
                    优点：速度快
                    缺点：有死区
        2）分散刷新：每完成一次读写，刷新一行
                    优点：无死区
                    缺点：速度慢
        3）异步刷新：t=刷新时间间隔/应刷新次数，每t刷新一行
                    优点：若将刷新安排在指令译码阶段，则不会出现死区
                    缺点：
  3）DRAM和SRAM比较
                        DRAM（主存）    SRAM（缓存）
   存储原理                电容            触发器
   integration-level       高                低
   chip pins               few               much
   power consumption       low               high
   price                   cheap             expensive
   speed                   slow              quick
   refresh                 yes               no

4. ROM（read only memory）
  1）MROM（掩膜ROM）：不可擦除，不可编程（即出场是什么，就用什么）
  2）PROM（programmable Read-Only memory）：因为使用熔丝进行编程，只可编程一次
  3）EPROM：可多次编程，但需要特定的设备
  4）EEPROM：可多次编程，插入电脑即可编程。断电后信息不丢失
  5）FLASH：闪速性存储器，速度比EEPROM快，具有RAM的功能
5. memory与CPU连接
  1）memory容量扩展
    1. 位扩展：可通过芯片的并联；地址线接在两片chip上，对这两片chip中相同地址存储单元中的数据进行读/写；chip同时工作
    2. 字扩展：增加片选线，扩展chip的字长；chip不同时工作
    3. 同时扩展
  2）memory与cpu的连接
    1. 根据项目要求，确定二进制地址码的取值范围
    2. 选芯片
        要区分ROM和RAM，ROM一般用于系统程序，RAM一般用于用户程序
    3. 分配地址线（和片选线）
    4. 确定片选逻辑
    5. 注
       1）MREQ是访存控制信号
       2）ROM只能读出，RAM可读/写
6. memory的校验
  1）为什么要对存储器进行校验？
     检查数据（二进制码）在传输过程中是否出现错误
  2）编码的最小距离：任意两组合法代码之间二进制位数的最小差异
    L - 1 = D + C（D大于等于C）
    L：编码的最小距离
    D：检测错误的位数
    C：纠正错误的位数
  3）奇偶校验：错误检测码
      偶校验：给定一组数据中由奇数个1，加一个bit为1，使总的1的个数为偶数个
      奇校验：
  4）汉明码
      1. 采用奇偶校验
      2. 采用分组校验：检测位Ci承担不同的检测小组；校验的核心就是交叉，可准确找出错误位。
      3. 传输后的数据按照协议的规定，进行校验，形成新的检测位Pi；（P4P2P1=110，表示第六位有错）若错误位为检测位Ci，可不进行纠错

7. 提高访存速度
  1）采用高速组件
  2）采用层次机构 Cache—主存
  3）调整主存结构：
    1. 单体多字：一次将多位数据从memory中传入register中，cpu与main memory交换数据的瓶颈在寻址到将数据读出或者写入存储器的这一过程；
                一次将n*W（W机器字长）位数据放入register中，可提高交换速率（参考：https://www.tomorrow.wiki/archives/1113）
    2. 多体并行（参考：https://www.tomorrow.wiki/archives/1113）
      看参考
      1）高位交叉（高位表示体号，低位表示体内地址）顺序编址
          优点：各个体分别相映不同请求源请求
          缺点：程序的局部性原理（程序指令按地址顺序存放），该方式并不能提高交换速率
          总结：理论结构上是并行存储，实际使用中还是单体执行
      2）低位交叉（高位表示体内地址，低位表示体号）各个体轮流编址
          优点：真正实现了多体并行
          缺点：
          总结：将多个连续地址单元的存储周期并行，可实现流水线方式存取数据（减少将数据从memory提取到register中的次数）
8. 高性能存储chip
  1）SDRAM
  2）RDRAM
  3）带Cache的DRAM

      
            
                     
